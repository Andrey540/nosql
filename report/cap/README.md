# Отчёт по домашнему заданию №1


## MongoDB

Кластер MongoDB является системой с одинм ведущим узлом, запись может быть осуществлена только на лидера, а читать можно как с лидера, так и с реплики, в зависимости от конфигурации.
В случае, если чтение и запись осуществляются с лидера, то система является консистентной, и может быть всегда доступной для чтения, если возможно чтение с реплик.
Но не может быть всегда доступной для записи, тк в случае падения лидера, новый лидер должен быть переизбран, а в этот момент система не будет доступна на запись.

Поэтому MongoDB проявляет себя как CP система.

## MSSQL

Не сталкивался на практике с MSSQL, поэтому рассмотрю на примере MySQL, полагаю, что они похожи.

Если рассмотреть кластер, построенный на основе синхронной репликации, то система является консистентной, тк данные сохраняются только тогда, когда все узлы
получили изменения, но, если какой-то из узлов не смог подтверить изменения, то система становится недоступной.

Если рассмотреть полусинхронную репликацию, то система получает доступность, но жертвует консистентностью, тк мастер нода не дожидается пока изменения распространятся по всем нодам, а необходима фиксация хотя бы на одной.
В данном случае система получает доступность, тк в случае падения мастера, мастер можно переключить на ноду с актуальными данными.

В случае, если настроена асинхронная репликация, то согласованность полностью жертвуется в угоду достпуности чтению.

Все рассмотренные конфигурации репликаций являются системами с одинм ведущим, запись может быть осуществлена только на мастер ноду,
поэтому в случае распада сети и недостпности мастер ноды или лидера система не способна обрабатывать запросы на запись.

SQL системы больше себя проявляют как CA, но какие свойства будет проявлять система зависит то, как кластер будет сконфигурирован.

## Cassandra

Cassandra - система построенная на основе узлов, где каждый узел является мастероми способен обрабатывать запросы на чтение и на запись.
В случае, если кластер настроен так, что узлу не нужно подтверждение того, что данные приняты на другие узлы, то система ведёт себя как AP. Тк она не является консистентной, но достпуной на чтение и запись при распеде сети.
В случае, если требуется поддтверждения от других узлов, то система приобретяет консистентнойт, но теряет доступность, тк может оказатся так, что изменения не могут быть приняты необходимым количеством узлов.

Cassandra ведёт себя как AP, но если кворум выкрутить в максимум, то она станет CP системой, тк в случае потери одного узла система станет недоступной для чтения и записи.